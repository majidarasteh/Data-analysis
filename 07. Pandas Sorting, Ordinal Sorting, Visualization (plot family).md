# **Sorting, Ordinal Sorting, Visualization (plot family)**

This part covers:

1. `sort_values()`
2. Ordinal Sorting (Categorical Ordered)
3. Basic Visualization with `plot()`
4. Visualization Types (line, bar, barh, hist, box, area, scatter, pie, hexbin, stacked bar)

---

# **1. Sorting Data — `sort_values()`**

`sort_values()` sorts a DataFrame by one or multiple columns.

**Parameters:**

* `by` → column name
* `ascending=True/False` → sort order

---

## **Sorting by Two Columns (Ascending by Both)**

```python
df = pd.DataFrame({
    "Name": ["Ali", "Sara", "Reza", "Ali"],
    "Price": [40000, 30000, 50000, 40000],
    "Year": [2010, 2012, 2008, 2005]
})

print(df)

sorted_df = df.sort_values(by=["Name", "Price"])
print("\n ----------------------------- \n After sort:\n ----------------------------- \n ",sorted_df)
```

### **Output**

```
   Name  Price  Year
0   Ali  40000  2010
1  Sara  30000  2012
2  Reza  50000  2008
3   Ali  40000  2005

 ----------------------------- 
 After sort:
 ----------------------------- 
     Name  Price  Year
0   Ali  40000  2010
3   Ali  40000  2005
2  Reza  50000  2008
1  Sara  30000  2012
```

## **Sort in Descending Order**

```python
sorted_df = df.sort_values(by="Price", ascending=False)
print(sorted_df)
```

### **Output**

```
   Name  Price  Year
2  Reza  50000  2008
0   Ali  40000  2010
3   Ali  40000  2005
1  Sara  30000  2012
```

## **Sort with Mixed Order (Two Columns, Different Directions)**

Example:
* Sort by Name ascending
* Sort by Year descending

```python
sorted_df = df.sort_values(
    by=["Name", "Year"],
    ascending=[True, False]
)

print(sorted_df)
```

### **Output**

```
   Name  Price  Year
0   Ali  40000  2010
3   Ali  40000  2005
2  Reza  50000  2008
1  Sara  30000  2012
```

---

# **2. Ordinal Sorting — Sorting Categorical Ordered Data**


Some data has a natural order (**Small < Medium < Large**).
Steps:

1. Convert column to **Categorical** with `ordered=True`
2. Use `sort_values()` normally

---

## **Example DataFrame**

```python
import pandas as pd

df = pd.DataFrame({
    "Item": ["A", "B", "C", "D"],
    "Size": ["Large", "Small", "Medium", "Small"]
})

print(df)
```

### **Output**

```
  Item    Size
0    A   Large
1    B   Small
2    C  Medium
3    D   Small
```

## **Step 1: Define the Order (Small < Medium < Large)**

```python
size_order = ["Small", "Medium", "Large"]

df["Size"] = pd.Categorical(
    df["Size"],
    categories=size_order,
    ordered=True
)
```

* pd.Categorical(..., ordered=True) tells pandas that the values follow a specific sequence.
* Now sort_values() uses the custom order instead of alphabetical sorting.

## **Step 2 — Sort by the Ordinal Category**

```python
sorted_df = df.sort_values(by="Size")
print(sorted_df)
```

**Output**

```
  Item    Size
1    B   Small
3    D   Small
2    C  Medium
0    A   Large
```

## **Example: Sort by Ordinal + Another Column**

```python
sorted_df = df.sort_values(
    by=["Size", "Item"],
    ascending=[True, True]
)

print(sorted_df)
```

**Output**

```
  Item    Size
1    B   Small
3    D   Small
2    C  Medium
0    A   Large
```

---

# **3. Visualization — Line Plot (`plot.line`)**

Shows trends over time or sequential data.

## **Example**

```python
df = pd.DataFrame({
    "Day": ["1th", "7th", "14th", "21th"],
    "Sales": [100, 120, 90, 150]
})

df.plot(x="Day", y="Sales", kind="line")
```

### **Output**

<img width="425" height="350" alt="image" src="https://github.com/user-attachments/assets/351023e1-96bd-4b13-b8b1-051ea9ec2e93" />

---

# **4. Visualization — Bar Chart (`plot.bar`)**

## **Example**

```python
df.plot(x="Day", y="Sales", kind="bar")
```

### Output

<img width="420" height="362" alt="image" src="https://github.com/user-attachments/assets/1fa0eb06-a3f9-4057-bcf2-5bd020745a91" />

## **Example 2**

```python
df = pd.DataFrame({
    "Fruit": ["Apple", "Banana", "Orange"],
    "Store1": [30, 40, 50],
    "Store2": [20, 25, 30]
})

df.set_index("Fruit").plot(kind="bar")
```

### Output

<img width="436" height="393" alt="image" src="https://github.com/user-attachments/assets/a87d76f4-d188-489c-831a-7cf969ec4a28" />

---

# **5. Visualization — Horizontal Bar Chart (`plot.barh`)**

## **Example**

```python
df = pd.DataFrame({
    "Day": ["1th", "7th", "14th", "21th"],
    "Sales": [100, 120, 90, 150]
})

df.plot(x="Day", y="Sales", kind="barh")
```

### Output

<img width="441" height="336" alt="image" src="https://github.com/user-attachments/assets/2e6b04ba-2e5f-47e6-83ba-3559bc999902" />

## **Example 2**

```python
df = pd.DataFrame({
    "Fruit": ["Apple", "Banana", "Orange"],
    "Store1": [30, 40, 50],
    "Store2": [20, 25, 30]
})

df.set_index("Fruit").plot(kind="barh")
```

### Output

<img width="485" height="352" alt="image" src="https://github.com/user-attachments/assets/a70b90ae-c2c0-496e-9169-2e9af5748642" />


---

# **6. Histogram — `plot.hist()`**

Shows distribution of numeric values.

## **Example**

```python
df = pd.DataFrame({
    "Age": [21, 22, 25, 25, 28, 30, 32, 35]
})

df["Age"].plot(kind="hist")
```

### Output

<img width="441" height="331" alt="image" src="https://github.com/user-attachments/assets/42e87841-f5cd-4c44-8664-50453d9e08fe" />

---

# **7. Box Plot — `plot.box()`**

## **Example**

```python
df["Age"].plot(kind="box")
```

### Output

<img width="418" height="331" alt="image" src="https://github.com/user-attachments/assets/2f394ac3-582f-4497-861d-0e489a9a8d65" />

## **Example 2**

```python
df = pd.DataFrame({
    "Fruit": ["Apple", "Banana", "Orange"],
    "Store1": [30, 40, 50],
    "Store2": [20, 25, 30]
})

df.plot(kind="box")
```

### Output

<img width="412" height="338" alt="image" src="https://github.com/user-attachments/assets/2a8ffcb1-809c-40e3-ac7e-947f96bffd6d" />

---

# **8. Area Chart — `plot.area()`**

## **Example**

```python
df = pd.DataFrame({
    "Day": ["1th", "7th", "14th", "21th"],
    "Sales": [100, 120, 90, 150]
})
df.plot(x="Day", y="Sales", kind="area")
```

### Output

<img width="423" height="353" alt="image" src="https://github.com/user-attachments/assets/ebed1ee3-8183-413f-ae38-42975c89d88e" />

## **Example 2**

```python
df = pd.DataFrame({
    "Fruit": ["Apple", "Banana", "Orange"],
    "Store1": [30, 40, 50],
    "Store2": [20, 25, 30]
})

df.set_index("Fruit").plot(kind="area")
```

### Output

<img width="416" height="350" alt="image" src="https://github.com/user-attachments/assets/20038427-213f-4cc6-8242-3f951fb414aa" />

---

# **9. Scatter Plot — `plot.scatter()`**

## **Example**

```python
df = pd.DataFrame({
    "Height": [160, 170, 175, 180],
    "Weight": [55, 65, 72, 80]
})

df.plot(kind="scatter", x="Height", y="Weight")
```

### Output

<img width="542" height="405" alt="image" src="https://github.com/user-attachments/assets/54d3f836-62cd-4360-b4ea-16beb14e891b" />

---

# **10. Pie Chart — `plot.pie()`**

## **Example**

```python
sizes = pd.DataFrame({
    "Category": ["A", "B", "C"],
    "Value": [40, 35, 25]
})

sizes.set_index("Category")["Value"].plot(kind="pie")
```

### Output

<img width="311" height="294" alt="image" src="https://github.com/user-attachments/assets/dd61a9f7-3bc6-4828-9c60-48829c31f47c" />

---

# **11. Hexbin Plot — `plot.hexbin()`**

A hexbin chart divides the 2-D space into hexagonal cells. **Each hexagon’s color represents how many points fall inside it** (i.e., point density).

It is mainly used when:
* You have a **large number of x–y** points
* A scatter plot becomes too cluttered
* You want to see patterns, clusters, and density clearly

**Hexbin = heatmap + scatter plot combined**

**Pandas does NOT support kind="heatmap" in DataFrame.plot().**

## **Example**

```python
import numpy as np

df = pd.DataFrame({
    "x": np.random.rand(100),
    "y": np.random.rand(100)
})

df.plot(kind="hexbin", x="x", y="y", gridsize=10)
```

### Output

<img width="411" height="353" alt="image" src="https://github.com/user-attachments/assets/0c624e26-c89e-461e-a3bc-5143fe144c57" />

---

# **12. Stacked Bar Plot (`plot.bar` with `stacked=True`)**

## **Example**

```python
df = pd.DataFrame({
    "Fruit": ["Apple", "Banana", "Orange"],
    "Store1": [30, 40, 50],
    "Store2": [20, 25, 30]
})

df.set_index("Fruit").plot(kind="bar", stacked=True)
```

### Output

<img width="435" height="392" alt="image" src="https://github.com/user-attachments/assets/33b2f53f-50a4-425f-b549-3861c17e7cd2" />

---


# **Summary Table — Part 5 (Sorting, Ordinal Sorting, Visualization)**

| **Category**        | **Method / Concept**                   | **Description**                        | **Example**                                                     | **Output**                       |
| ------------------- | -------------------------------------- | -------------------------------------- | --------------------------------------------------------------- | -------------------------------- |
| **Sorting**         | `sort_values(by=...)`                  | Sort rows by column(s)                 | `df.sort_values(by="Price")`                                    | DataFrame sorted by price        |
|                     | Sort by multiple columns               | Sort using two or more columns         | `df.sort_values(["City","Price"])`                              | Sorted first by City, then Price |
|                     | Ascending/Descending                   | Control sorting order                  | `df.sort_values("Price", ascending=False)`                      | Highest → lowest                 |
|                     | Sort two columns with different orders | Mixed ordering                         | `df.sort_values(["City","Price"], ascending=[True, False])`     | City ↑, Price ↓                  |
| **Ordinal Sorting** | Create ordered category                | Define sort order for categorical data | `cat = CategoricalDtype(["Low","Medium","High"], ordered=True)` | Categorical with order           |
|                     | Apply category type                    | Convert column to ordered type         | `df["Level"] = df["Level"].astype(cat)`                         | Enables ordinal sorting          |
|                     | Sort by ordered category               | Sort respecting category order         | `df.sort_values("Level")`                                       | Low → Medium → High              |
| **Visualization**   | `plot.line()`                          | Line chart for trends                  | `df.plot.line(x="Year", y="Sales")`                             | Line plot                        |
|                     | `plot.bar()`                           | Bar chart for comparisons              | `df.plot.bar(x="Name", y="Score")`                              | Bar plot                         |
|                     | `plot.scatter()`                       | Scatter plot for relationships         | `df.plot.scatter(x="x", y="y")`                                 | Dots showing correlation         |
|                     | `plot.hist()`                          | Histogram for distribution             | `df["Age"].plot.hist(bins=10)`                                  | Histogram                        |
|                     | `plot.box()`                           | Boxplot for outlier visualization      | `df.plot.box()`                                                 | Min/Q1/Median/Q3/Max             |
|                     | `plot.area()`                          | Filled area chart                      | `df.plot.area()`                                                | Shaded trend area                |
|                     | `plot.hexbin()`                        | 2D density plot for large scatter      | `df.plot.hexbin(x="x", y="y", gridsize=20)`                     | Hexagonal density plot           |



