# Aggregation Functions
Aggregation (summary) functions return **statistical information** about a DataFrame. They usually operate **only on numeric columns**.

# **1. Aggregation Functions (Overview)**

Common aggregation functions:

* `min()` → smallest value
* `max()` → largest value
* `mean()` → average
* `median()` → middle value
* `count()` → number of elements
* `agg()` → apply multiple aggregations at once
* `len()` — Find total number of rows

---


# **2. `min()` — Find Minimum Value**

`min()` returns the **smallest numeric value** in each column of a DataFrame.

### **Example**

```python
import pandas as pd

df = pd.DataFrame({
    'Math': [12, 18, 15],
    'Physics': [14, 17, 13]
})

print(df.min())
```

### **Output**

```
Math       12
Physics    13
dtype: int64
```

---

# **3. `max()` — Find Maximum Value**

`max()` returns the **largest numeric value** in each column.

### **Example**

```python
print(df.max())
```

### **Output**

```
Math       18
Physics    17
dtype: int64
```

---

# **4. `mean()` — Calculate Average**

`mean()` returns the **average** of numeric columns.

### **Example**

```python
print(df.mean())
```

### **Output**

```
Math       15.000000
Physics    14.666667
dtype: float64
```

---

# **5. `median()` — Find Middle Value**

`median()` returns the **middle value** when the values are sorted.

### **Example**

```python
print(df.median())
```

### **Output**

```
Math       15.0
Physics    14.0
dtype: float64
```

---

# **6. `count()` — Count Number of Values**

Counts **non-missing** values in each column.

### **Example**

```python
print(df.count())
```

### **Output**

```
Math       3
Physics    3
dtype: int64
```

---

# **7. `agg()` — Apply Multiple Aggregations**

`agg()` allows applying **multiple functions** to one or more columns.

### **Example 1 — Apply to Entire DataFrame**

```python
print(df.agg(['min', 'max', 'mean']))
```

### **Output**

```
        Math    Physics
min     12      13
max     18      17
mean    15      14.666667
```

### **Example 2 — Apply to a Single Column**

```python
print(df['Math'].agg(['min', 'max', 'mean']))
```

### **Output**

```
min     12.0
max     18.0
mean    15.0
Name: Math, dtype: float64
```

---

# **8. Aggregation on Selected Column**

You can aggregate a single column directly.

### **Example**

```python
min_value = df['Physics'].min()
print(min_value)
```

### **Output**

```
13
```

# **9. `len()` — Total Number of Rows**
The built-in Python function `len()` returns the **number of rows in the DataFrame**.It does not count columns — only rows.

### Example

```python
print(len(df))
```

**Output**

```
3
```
---

# Part 2: String Operations

This part covers:

1. Overview of string operations
2. `.str.lower()`
3. `.str.upper()`
4. `.str.contains()`
5. `.str.replace()`
6. `.str.slice()`
7. Full examples & outputs

# **1. String Operations (Overview)**

Pandas provides the **`.str`** accessor to apply string functions to Series containing text.

You can use it to:

* Convert text to lowercase/uppercase
* Search for substrings
* Replace text
* Extract slices of strings

These functions work **element-wise** on each row.

---

# **2. `.str.lower()` — Convert to lowercase**

Converts every string in a column to lowercase.

### Example

```python
import pandas as pd

df = pd.DataFrame({
    'Name': ['Ali', 'SARA', 'ReZa']
})

print(df['Name'].str.lower())
```

### Output

```
0     ali
1    sara
2    reza
Name: Name, dtype: object
```

---

# **3. `.str.upper()` — Convert to uppercase**

Converts every string to uppercase.

### Example

```python
print(df['Name'].str.upper())
```

### Output

```
0     ALI
1    SARA
2    REZA
Name: Name, dtype: object
```

---

# **4. `.str.contains()` — Search for substring**

Checks whether a substring exists in each row of a string column. Returns **True/False**.

### Example

```python
print(df['Name'].str.contains('a', case=False))
```

### Output

```
0     True
1     True
2     True
Name: Name, dtype: bool
```

(We used `case=False` **to ignore uppercase/lowercase.**)

---

# **5. `.str.replace()` — Replace part of a string**

### **Description**

Replaces a substring with another substring.

### Example: Removing `$` symbol and converting to float

```python
df2 = pd.DataFrame({
    'Price': ['$12', '$15', '$20']
})

df2['Price'] = df2['Price'].str.replace('$', '', regex=False)
df2['Price'] = df2['Price'].astype(float)

# or: df2['Price'] = df2['Price'].str.replace('$', '', regex=False).astype(float)

print(df2)
```

`regex=False` is a parameter used in string functions such as `str.replace()` to tell pandas:
* **Do NOT treat** the pattern **as a regular expression (regex)**
* Treat it as a **normal (literal) string**

Treats pattern as a `regex`, which means **special characters** like: `.  *  +  ?  $  ^  []  ()  |` **have special meaning**. This can cause unexpected behavior.

### Output

```
   Price
0   12.0
1   15.0
2   20.0
```

---

# **6. `.str.slice()` — Extract substring by index**

Extracts a substring from **start index** to **end index** (end exclusive).

---

### Example

```python
df3 = pd.DataFrame({
    'Code': ['AB123', 'CD456', 'EF789']
})

print(df3['Code'].str.slice(0, 2))   # extract first two letters
```

### Output

```
0    AB
1    CD
2    EF
Name: Code, dtype: object
```

Another example:

```python
print(df3['Code'].str.slice(2, 5))   # extract numeric part
```

Output:

```
0    123
1    456
2    789
Name: Code, dtype: object
```

---

# Summary Table —  (Statistical operations) and (String operations)

| **Category**                                     | **Function / Method** | **Description**                                                    | **Example**                               |
| ------------------------------------------------ | --------------------- | ------------------------------------------------------------------ | ----------------------------------------- |
| **Part 1 — Aggregation & Statistical Functions** | `min()`               | Returns the minimum value of a column                              | `df["Price"].min()`                       |
|                                                  | `max()`               | Returns the maximum value of a column                              | `df["Price"].max()`                       |
|                                                  | `mean()`              | Computes the average of numerical values                           | `df["Age"].mean()`                        |
|                                                  | `median()`            | Returns the median (middle value)                                  | `df["Salary"].median()`                   |
|                                                  | `count()`             | Counts non-null values                                             | `df["Price"].count()`                     |
|                                                  | `agg()`               | Applies multiple aggregations at once                              | `df["Price"].agg(["min", "max", "mean"])` |
|                                                  | `len()`               | Returns number of rows in the DataFrame or length of column/series | `len(df)` or `df["Price"].apply(len)`*    |
| **Part 2 — String Operations & Cleaning**        | `str.lower()`         | Converts all characters to lowercase                               | `df["Name"].str.lower()`                  |
|                                                  | `str.upper()`         | Converts all characters to uppercase                               | `df["Name"].str.upper()`                  |
|                                                  | `str.contains()`      | Checks if a substring exists (regex supported)                     | `df["City"].str.contains("York")`         |
|                                                  | `str.replace()`       | Replaces substring or regex pattern                                | `df["Text"].str.replace("old", "new")`    |
|                                                  | `str.slice()`         | Extracts substring using start/end positions                       | `df["Code"].str.slice(0, 3)`              |



